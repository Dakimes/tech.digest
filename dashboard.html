<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Интерактивный дашборд</title>
  <meta name="description" content="Интерактивный дашборд встраивается на страницу через iframe." />
  <script>
    (function(){
      var doc = document.documentElement;
      doc.classList.add('auth-check');
      try{
        if(localStorage.getItem('sci-auth') === 'true'){
          doc.classList.add('auth-ok');
        } else {
          window.location.replace('/login/');
        }
      } catch(err){
        window.location.replace('/login/');
      }
    })();
  </script>
  <link rel="icon" type="image/svg+xml" href="./assets/logo-transparent.svg" />
  <style>
    html.auth-check body{ visibility:hidden; }
    html.auth-check.auth-ok body{ visibility:visible; }
    :where([hidden]){ display:none !important; }
    :root{
      --bg:#f8fafc;
      --card:#ffffff;
      --card-alt:#f1f5f9;
      --text:#0f172a;
      --muted:#64748b;
      --accent:#2563eb;
      --accent-strong:#1d4ed8;
      --accent-light:#60a5fa;
      --accent-soft:#dbeafe;
      --border:#e2e8f0;
      --shadow:0 20px 48px rgba(15,23,42,.08);
      --radius:22px;
      --page-gap:clamp(16px, 3.5vw, 48px);
      --header-height:96px;
    }
    *, *::before, *::after{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; min-height:100%; background:var(--bg); color:var(--text); font:16px/1.55 "Inter", "SF Pro Text", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body{ display:flex; flex-direction:column; min-height:100vh; }
    .page-header{
      background:var(--card);
      border-bottom:1px solid rgba(148,163,184,.22);
      box-shadow:var(--shadow);
      padding:18px var(--page-gap);
      display:flex;
      align-items:center;
      gap:18px;
      min-height:var(--header-height);
    }
    .page-brand{ display:flex; align-items:center; gap:18px; min-width:0; flex:1; }
    .logo-link{ display:inline-flex; align-items:center; justify-content:center; border-radius:12px; text-decoration:none; padding:0; background:transparent; border:0; }
    .logo-link:focus-visible{ outline:3px solid rgba(37,99,235,.35); outline-offset:4px; }
    .logo{ height:48px; width:auto; display:block; }
    .page-meta{ display:flex; flex-direction:column; gap:4px; min-width:0; }
    .page-label{ margin:0; font-size:13px; text-transform:uppercase; letter-spacing:.35px; color:var(--muted); }
    .page-title{ margin:0; font-size:clamp(22px,3vw,30px); font-weight:700; letter-spacing:.2px; color:var(--text); }
    .back-link{ margin-left:auto; display:inline-flex; align-items:center; gap:10px; padding:12px 20px; border-radius:14px; border:1px solid var(--border); background:var(--card-alt); color:var(--accent-strong); font-weight:600; text-decoration:none; transition:background .2s ease, color .2s ease, transform .2s ease; box-shadow:none; }
    .back-link:hover{ background:var(--accent-soft); color:var(--accent); transform:translateY(-1px); }
    .back-link:focus-visible{ outline:3px solid rgba(37,99,235,.3); outline-offset:3px; }
    .back-link svg{ width:18px; height:18px; stroke:currentColor; }
    main{ flex:1; padding:var(--page-gap); display:flex; }
    .iframe-wrap{ position:relative; flex:1; border-radius:var(--radius); overflow:hidden; border:1px solid rgba(148,163,184,.35); box-shadow:0 24px 64px rgba(37,99,235,.12); background:linear-gradient(120deg, rgba(219,234,254,.6), rgba(191,219,254,.35)); min-height:max(620px, calc(100vh - var(--header-height) - var(--page-gap))); display:flex; }
    .iframe-wrap::before{ content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(120deg, rgba(148,163,184,.18), transparent 60%); mix-blend-mode:soft-light; }
    iframe{ position:relative; width:100%; flex:1; height:max(620px, calc(100vh - var(--header-height) - var(--page-gap))); border:0; background:#fff; border-radius:inherit; }
    @media (max-width: 768px){
      :root{ --header-height:84px; }
      .page-header{ flex-wrap:wrap; }
      .page-brand{ width:100%; justify-content:center; text-align:center; }
      .page-meta{ align-items:center; }
      .back-link{ width:100%; justify-content:center; }
      main{ padding:clamp(12px, 5vw, 24px); }
      .iframe-wrap{ border-radius:18px; }
      iframe{ min-height:480px; height:max(480px, calc(100vh - var(--header-height) - 32px)); }
    }
  </style>
</head>
<body>
  <header class="page-header">
    <div class="page-brand">
      <a class="logo-link" href="/" aria-label="На главную">
        <img class="logo" src="./assets/logo-transparent.svg" alt="Tech Digest" />
      </a>
      <div class="page-meta">
        <p class="page-label">Цифровой радар</p>
        <h1 class="page-title">Интерактивный дашборд</h1>
      </div>
    </div>
    <a class="back-link" href="/">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8">
        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6.75L4.5 12l6 5.25M19.5 12H4.5" />
      </svg>
      На главную
    </a>
  </header>
  <main>
    <div class="iframe-wrap">
      <iframe src="https://datalens.yandex/unblwg4lldxmf?embedded=1&_theme=white&_autoupdate=60" title="Дашборд DataLens" allowfullscreen loading="lazy"></iframe>
    </div>
  </main>
</body>
</html>
